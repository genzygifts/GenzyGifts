<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Genzy Gifts - Happy Diwali Wish & Offer</title>
    
    <meta property="og:title" id="og-title-meta" content="Send"> 
    <meta property="og:image" id="og-image-meta" content="https://genzygifts.github.io/genzygifts/diwali_wish.gif"> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* [‡§Ü‡§™‡§ï‡•á ‡§∏‡§≠‡•Ä CSS ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡•ç‡§∏ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§π‡•à‡§Ç] */
        :root {
            --color-background-start: #FF6B35; 
            --color-background-end: #8B0000; 
            --color-card-bg: #ffffff;
            --color-primary-text: #000000;
            --color-primary-btn: #FF8C00; 
            --color-price-main: #8B0000;
            --color-price-cod: #dc3545;
            --color-price-premium: #FF8C00; 
            --color-header-star: #FFD700; 
            --color-header-text: #FFE4B5; 
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; -webkit-tap-highlight-color: transparent; user-select: none; } 
        body, html { height: 100%; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        #app-container { width: 100%; max-width: 450px; height: 100vh; overflow-y: auto; overflow-x: hidden; -webkit-overflow-scrolling: touch; background: linear-gradient(180deg, var(--color-background-start) 0%, var(--color-background-end) 100%); box-shadow: 0 0 40px rgba(255, 107, 53, 0.6); color: var(--color-primary-text); position: relative; padding-bottom: 15px; }
        #content-area { padding: 0 15px; text-align: center; } 
        #top-header-wish { text-align: center; padding: 20px 0; color: var(--color-header-text); font-weight: 600; position: relative; z-index: 10; }
        .receiver-header { font-size: 2.2em; font-weight: 900; color: var(--color-header-star); text-shadow: 2px 2px 5px rgba(0,0,0,0.7); margin-bottom: 5px; }
        .festival-text { font-size: 1.6em; font-weight: 700; color: #FFE4B5; text-shadow: 1px 1px 3px rgba(0,0,0,0.7); margin-bottom: 5px; display: flex; justify-content: center; align-items: center; }
        .festival-text i { margin: 0 5px; cursor: pointer; } 
        .store-title-top { font-size: 1.3em; font-style: italic; font-weight: 600; letter-spacing: 1px; color: #FFE4B5; opacity: 0.8; margin-bottom: 15px; }
        #product-card { background-color: var(--color-card-bg); border-radius: 15px; padding: 15px; margin-top: 5px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); text-align: left; }
        .product-name-main { font-size: 1.1em; font-weight: 700; margin-bottom: 5px; text-align: center; }
        #review-bar { text-align: center; margin-bottom: 15px; color: #FFD700; font-size: 1.1em; }
        #media-box { width: 100%; padding-top: 177.77%; height: 0; margin-bottom: 12px; border: 1px solid #ddd; overflow: hidden; position: relative; border-radius: 10px; }
        .carousel-image, .product-media-video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transition: opacity 0.5s ease-in-out; }
        .product-media-video { object-fit: contain; } 
        #price-container { display: flex; justify-content: space-around; margin-bottom: 15px; text-align: center; }
        .price-item { line-height: 1.1; padding: 5px; border-radius: 5px; }
        .price-label { font-size: 0.8em; font-weight: 500; color: #666; margin-bottom: 3px; }
        .price-value { font-size: 1.4em; font-weight: 900; }
        #price-cod-display .price-value { color: var(--color-price-cod); }
        #price-premium-display .price-value { color: var(--color-price-premium); }
        #description-text { font-size: 0.85em; color: #444; margin-bottom: 15px; font-weight: 500; text-align: center; } 
        .btn-base { width: 100%; padding: 12px 20px; margin-bottom: 10px; border-radius: 30px; font-size: 1.0em; font-weight: 700; border: none; cursor: pointer; transition: all 0.3s; }
        .primary-btn { background: linear-gradient(135deg, var(--color-primary-btn), #FF6B00); color: white; box-shadow: 0 4px 10px rgba(255, 140, 0, 0.5); } 
        #share-section-box { padding: 15px; margin-top: 10px; text-align: left; background-color: #f8f8f8; border-radius: 10px; border: 1px solid #eee; }
        #share-label { font-size: 0.9em; font-weight: 600; color: var(--color-primary-text); margin-bottom: 10px; display: flex; align-items: center; }
        #share-label i { color: #FF6B35; margin-right: 8px; font-size: 1.2em; }
        #share-input-group { display: flex; flex-direction: column; gap: 8px; }
        .share-input-row { display: flex; gap: 5px; align-items: center; }
        #offer-timer-share { display: flex; align-items: center; justify-content: space-between; background-color: #fff3cd; border: 1px solid #ffeeba; border-radius: 8px; padding: 8px 10px; margin-bottom: 8px; }
        #offer-end-text { font-size: 0.9em; font-weight: 700; color: #856404; flex-shrink: 0; margin-right: 10px; }
        #countdown { font-size: 1.1em; font-weight: 900; color: #dc3545; }
        .share-input-field { flex-grow: 1; padding: 8px; border-radius: 8px; border: 2px solid #FF8C00; font-size: 0.85em; outline: none; text-align: center; }
        .share-btn { width: 100%; padding: 10px; background: linear-gradient(135deg, #FF8C00, #FF6B00); color: white; flex-shrink: 0; border-radius: 8px; font-size: 1.0em; font-weight: 700; border: none; cursor: pointer; } 
        #script-purchase-box { padding: 15px; margin-top: 10px; background: rgba(139, 0, 0, 0.8); border-radius: 10px; color: #FFE4B5; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); display: flex; justify-content: space-between; align-items: center; }
        .script-text-group { flex-grow: 1; margin-right: 10px; text-align: left; }
        .script-info { font-size: 0.85em; margin-bottom: 8px; font-weight: 600; }
        .script-btn { width: auto; padding: 8px 15px; background: linear-gradient(135deg, #FFD700, #FFA500); color: #000; border-radius: 20px; font-size: 0.8em; font-weight: 700; box-shadow: 0 3px 10px rgba(255, 215, 0, 0.4); display: inline-flex; align-items: center; }
        .qr-code-display { flex-shrink: 0; text-align: center; }
        .qr-code-display img { width: 70px; height: 70px; border: 2px solid #FFD700; border-radius: 5px; } 
        .qr-code-label { font-size: 0.7em; margin-top: 3px; font-weight: 500; }
        .hidden { display: none !important; }
        #modal { position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: flex; justify-content: center; align-items: center; }
        .modal-content { background-color: var(--color-card-bg); padding: 25px; border-radius: 15px; width: 90%; max-width: 380px; position: relative; color: var(--color-primary-text); box-shadow: 0 10px 40px rgba(255, 107, 53, 0.5); }
        .modal-content .close-btn { position: absolute; top: 10px; right: 12px; font-size: 24px; cursor: pointer; color: #999; }
        input[type="text"] { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 0.95em; outline: none; }
    </style>
</head>

<body oncontextmenu="return false;" onkeydown="checkKey(event);" onclick="attemptAudioPlay()">
    <div id="app-container">
        <span class="diya-decoration diya-left">ü™î</span>
        <span class="diya-decoration diya-right">ü™î</span>
        
        <div id="top-header-wish">
            <h1 class="receiver-header">Hi <span id="receiver-display-top">Loading...</span>!</h1>
            <p class="festival-text">Happy Diwali ‚ú® <i class="fas fa-volume-up" onclick="attemptAudioPlay(true)"></i></p>
            <h2 class="store-title-top">+ Genzy Gifts +</h2>
        </div>
        
        <div id="content-area">
            <div id="product-card">
                <h4 id="product-name-static" class="product-name-main"></h4>
                <div id="review-bar">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                    <span style="color: #666; font-size: 0.9em; font-weight: 600; margin-left: 8px;">(154 Reviews | 4.8/5)</span>
                </div>
                <div id="media-box"><div id="media-carousel"></div><div class="carousel-dots" id="carousel-dots"></div></div>
                <div id="details-box">
                    <div id="price-container">
                        <div id="price-cod-display" class="price-item">
                            <p class="price-label">Cash On Delivery</p><p class="price-value">‚Çπ<span id="price-cod"></span></p>
                        </div>
                        <div id="price-premium-display" class="price-item">
                            <p class="price-label">Premium Price</p><p class="price-value">‚Çπ<span id="price-premium"></span></p>
                        </div>
                    </div>
                    <p id="description-text"></p>
                    <button id="buy-now-btn" class="btn-base primary-btn" disabled>üõí Loading...</button>
                </div>
            </div>
            <div id="share-section-box">
                <p id="share-label"><i class="fas fa-heart"></i> Add Your Name And Receiver Name</p>
                <div id="share-input-group">
                    <div id="offer-timer-share">
                        <span id="offer-end-text">Offer End:</span>
                        <div id="countdown">00H : 00M : 00S</div>
                    </div>
                    <div class="share-input-row">
                        <input type="text" id="share-sender-input" class="share-input-field" placeholder="Your Name">
                        <input type="text" id="share-receiver-input" class="share-input-field" placeholder="Friend Name">
                    </div>
                    <button id="share-btn" class="share-btn btn-base">Share Wish</button>
                </div>
            </div>
            <div id="script-purchase-box">
                <div class="script-text-group">
                    <p class="script-info">üéÅ Want to create your own store like this?</p>
                    <button id="buy-script-btn" class="script-btn btn-base">
                        <i class="fas fa-laptop-code"></i> Buy Script ‚Çπ<span id="script-price-display">1999</span>
                    </button>
                </div>
                <div class="qr-code-display">
                    <img src="./qrcode.png" alt="Payment QR Code" id="phonepe-qr"> 
                    <p class="qr-code-label">Scan to Buy</p>
                </div>
            </div>
        </div>
    </div>

    <audio id="tts-audio" src="" hidden></audio>
    <div id="modal" class="hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="hideModal()">√ó</span>
            <div id="modal-body"></div>
        </div>
    </div>
    
    <script>
        // --- CONFIGURATION (UPDATED WITH YOUR DETAILS) ---
        const CONFIG={
            // 1. **GOOGLE SCRIPT URL** - (YOUR PROVIDED LINK)
            ORDER_SUBMIT_API:"https://script.google.com/macros/s/AKfycbxeul2-_q-kg4JFU2oiZ_W2-OcrNV3XAsq4NQV1SsdOpx28hAkTiO2EEmEBbXBLkNKo4A/exec",
            // 2. **YOUR WHATSAPP NUMBER** - (YOUR PROVIDED NUMBER)
            ADMIN_WHATSAPP:"919226949557",
            // 3. **YOUR QR CODE FILE** - (Remains same)
            QR_CODE_LINK:"qrcode.png", 
            TTS_ENDPOINT:"https://translate.google.com/translate_tts?ie=UTF-8&tl=hi&client=tw-ob&q=", 
            // 4. **DOMAIN LOCK KEY** - **MUST BE UPDATED BY YOU (IMPORTANT)**
            BASE_STORE_URL:"https://myusername.github.io/myrepo/", // <--- ISKO APNE LIVE HOSTING URL SE ZAROOR BADLEIN
            SCRIPT_PRICE:1999,
            PRODUCT_JSON_FILE:"./product_data.json"
        };
        let currentProduct=null,audioPlayed=!1;
        
        // --- FRONT-END SECURITY FUNCTIONS ---
        function checkKey(e){
            if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 83)) || (e.ctrlKey && e.keyCode === 85)) {
                e.preventDefault();
                return !1;
            }
            return !0;
        }

        function checkDomain(){
            const currentHost=window.location.host,expectedHost=(new URL(CONFIG.BASE_STORE_URL)).host;
            const currentPath = window.location.pathname.replace(/\/$/, '');
            const expectedPath = (new URL(CONFIG.BASE_STORE_URL)).pathname.replace(/\/$/, '');
            
            if (currentHost!==expectedHost || currentPath !== expectedPath){
                document.getElementById("buy-now-btn").style.pointerEvents="none";
                document.getElementById("buy-now-btn").textContent="üîí SCRIPT LOCKED: Invalid Domain/Resale Attempt üîí";
                document.getElementById("share-btn").style.pointerEvents="none";
                document.getElementById("share-btn").textContent="üîí Locked";
                document.getElementById("script-purchase-box").classList.add("hidden");
                return !1; 
            }
            return !0;
        }

        // --- CORE APPLICATION LOGIC (OBFUSCATED/MINIFIED FOR SECURITY) ---
        // [The rest of the JavaScript logic (TTS, Timer, Share Flow, Order Submission) remains the same as before, with the updated config values being used correctly.]
        function getUrlParams(){const params={};return window.location.search.substring(1).split("&").forEach((pair=>{const[key,value]=pair.split("=").map(decodeURIComponent);key&&(params[key]=value)})),params}function showModal(content){document.getElementById("modal-body").innerHTML=content,document.getElementById("modal").classList.remove("hidden")}function hideModal(){document.getElementById("modal").classList.add("hidden")}function startCountdown(){const minutes=Math.floor(Math.random()*6)+10;let countDownDate=(new Date).getTime()+60*minutes*1e3;const countdownElement=document.getElementById("countdown"),timerBoxElement=document.getElementById("offer-timer-share");const x=setInterval((function(){const now=(new Date).getTime(),distance=countDownDate-now,hours=Math.floor(distance/(1e3*60*60))%24,minutes=Math.floor(distance/(1e3*60))%60,seconds=Math.floor(distance/1e3)%60;countdownElement.innerHTML=(hours<10?"0"+hours:hours)+"H : "+(minutes<10?"0"+minutes:minutes)+"M : "+(seconds<10?"0"+seconds:seconds)+"S",distance<0&&(clearInterval(x),countdownElement.innerHTML="EXPIRED!",timerBoxElement.style.backgroundColor="#f8d7da",document.getElementById("buy-now-btn").textContent="\u23f0 Offer Ended! (Price May Change)",document.getElementById("buy-now-btn").disabled=!0)}),1e3)}function generateTtsUrl(receiverName,senderName){let ttsMessage;const params=getUrlParams(),shareStatus=params.status;return ttsMessage=shareStatus==="bought"?`\u0928\u092e\u0938\u094d\u0924\u0947 ${receiverName}! Mujhe pata hai aapko yeh product pasand aayega. Aapke dost **${senderName}** ne bhi ise **abhi-abhi order kiya hai** aur vah chahte hain ki yeh offer khatm hone se pehle **aap** bhi kharidein! Buy Now pr click karein\u0964`:params.sender&&"Priya"!==params.sender?`\u0928\u092e\u0938\u094d\u0924\u0947 ${receiverName}! Yeh offer **sirf aapke liye** hai! **${senderName}** ko yeh deal bahut pasand aayi hai, aur woh chahte hain ki yeh chance aap miss na karein\u0964 Order karne ke liye Buy Now pr click karein aur offer ka fayda uthayein!`:(`\u0928\u092e\u0938\u094d\u0924\u0947 ${receiverName}! Apana name dalke Wish share kare aur special product offer dekhein\u0964`),CONFIG.TTS_ENDPOINT+encodeURIComponent(ttsMessage)}function playAudio(receiverName){const audio=document.getElementById("tts-audio");if(audioPlayed||!currentProduct)return;const params=getUrlParams(),senderName=params.sender||"Priya";audio.src=generateTtsUrl(receiverName,senderName),audio.onended=function(){audioPlayed=!0};const playPromise=audio.play();void 0!==playPromise&&playPromise.then((()=>{})).catch((error=>{audioPlayed=!1}))}function attemptAudioPlay(userInitiated=!1){if(!audioPlayed&&currentProduct){const receiverName=document.getElementById("receiver-display-top").textContent||"Priya";(userInitiated||!audioPlayed)&&playAudio(receiverName)}}function fetchProductData(){fetch(CONFIG.PRODUCT_JSON_FILE).then((response=>{if(!response.ok)throw new Error("Failed to fetch product data");return response.json()})).then((data=>{if(!data||0===data.length)throw new Error("Product data is empty");currentProduct=data[0],updateStoreUI()})).catch((error=>{console.error("Product Data Fetch Error:",error),document.getElementById("receiver-display-top").textContent="Data Error",document.getElementById("buy-now-btn").textContent="\u26a0\ufe0f Data Loading Failed",document.getElementById("buy-now-btn").disabled=!0}))}function updateStoreUI(){if(!currentProduct)return;const params=getUrlParams(),finalReceiverName=params.sender?decodeURIComponent(params.sender):"Priya";document.getElementById("receiver-display-top").textContent=finalReceiverName,document.getElementById("product-name-static").textContent=currentProduct["Product Name"],document.getElementById("price-premium").textContent=currentProduct.Price,document.getElementById("price-cod").textContent=currentProduct.COD_Price,document.getElementById("description-text").textContent=currentProduct.Description,document.getElementById("script-price-display").textContent=CONFIG.SCRIPT_PRICE,document.getElementById("buy-now-btn").textContent="\ud83d\uded2 Buy Now",document.getElementById("buy-now-btn").disabled=!1,startMediaDisplay(),startCountdown(),attemptAudioPlay()}function startMediaDisplay(){const mediaContainer=document.getElementById("media-carousel");mediaContainer.innerHTML="";const rawMedia=currentProduct["MediaLink"]||"",mediaFileNames=rawMedia.split(",").map((name=>name.trim())).filter((name=>name.length>0));if(0===mediaFileNames.length)return;const basePath=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/",firstFileName=mediaFileNames[0],isVideo=firstFileName.toLowerCase().includes(".mp4")||firstFileName.toLowerCase().includes(".mov");if(isVideo){const video=document.createElement("video");video.src=basePath+firstFileName,video.className="product-media-video",video.setAttribute("loop",""),video.setAttribute("autoplay",""),video.setAttribute("playsinline",""),video.setAttribute("controls",""),video.muted=!0,mediaContainer.appendChild(video)}else{const img=document.createElement("img");img.src=basePath+firstFileName,img.className="carousel-image active",mediaContainer.appendChild(img)}}function handleBuyNow(){if(!currentProduct)return void alert("Product details loading...");const content=`\n                <h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-primary-btn")}; text-align: center;">Payment Option Chunain</h3>\n                <p style="margin-bottom: 20px; text-align: center; font-weight: 500;">Apni suvidha ke anusaar Payment chunain:</p>\n                \n                <button class="btn-base" \n                        style="background-color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-price-premium")}; color: white; margin-bottom: 15px; box-shadow: 0 4px 15px rgba(40, 167, 69, 0.5);" \n                        onclick="showOrderForm(true);">\n                    \u2b50 Prepaid Order (\u20b9${currentProduct.Price})\n                    <p style="font-size: 0.8em; margin: 0;">(Fast Delivery, No Extra Charge)</p>\n                </button>\n                \n                <button class="btn-base" \n                        style="background-color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-price-cod")}; color: white; box-shadow: 0 4px 15px rgba(220, 53, 69, 0.5);" \n                        onclick="showOrderForm(false);">\n                    \ud83d\udcb0 COD Order (\u20b9${currentProduct.COD_Price})\n                    <p style="font-size: 0.8em; margin: 0;">(Cash on Delivery)</p>\n                </button>\n            `;showModal(content)}function showOrderForm(isPrepaid){const price=currentProduct[isPrepaid?"Price":"COD_Price"],paymentMode=isPrepaid?"PREPAID":"COD",senderName=document.getElementById("receiver-display-top").textContent||"Direct Traffic";let formContent=`\n                <h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-price-main")}; text-align: center;">${paymentMode} Order Form</h3>\n                <p style="font-weight: 700; margin-bottom: 15px; text-align: center;">Aapka Final Price: \u20b9${price}</p>\n                \n                <form id="order-form" onsubmit="submitOrder(event);">\n                    <input type="hidden" name="Product Name" value="${currentProduct["Product Name"]}">\n                    <input type="hidden" name="Price" value="${price}">\n                    <input type="hidden" name="Payment Mode" value="${paymentMode}">\n                    <input type="hidden" name="Wish Sender" value="${senderName}">\n                    \n                    <input type="text" id="order-full-name" name="Full Name" placeholder="Poora Naam *" required>\n                    <input type="text" name="Mobile" placeholder="Mobile Number *" pattern="[0-9]{10}" required title="Please enter a 10 digit mobile number.">\n                    <input type="text" name="Pincode" placeholder="Pincode *" pattern="[0-9]{6}" required title="Please enter a 6 digit pincode.">\n                    <input type="text" name="Full Address" placeholder="Poora Address (House No, Area, City) *" required>\n                    \n                    ${isPrepaid?`\n                    <div style="text-align: center; margin-bottom: 15px; padding: 10px; border: 1px dashed #FF8C00; border-radius: 8px;">\n                        <p style="font-weight: 700; color: #FF6B00; margin-bottom: 8px;">\n                            Payment Ke Liye QR Code Scan Karein:\n                        </p>\n                        <img src="./${CONFIG.QR_CODE_LINK}" alt="Payment QR Code" style="width: 150px; height: 150px; border: 3px solid #FFD700; border-radius: 5px;">\n                        <p style="font-size: 0.8em; margin-top: 8px;">\n                            Payment karne ke baad hi 'Place Order' button par click karein\u0964\n                        </p>\n                    </div>`:""}\n\n                    <button type="submit" class="primary-btn btn-base" style="margin-top: 10px; background: linear-gradient(135deg, #FF6B00, #FF8C00);">\n                        Place Order (\u20b9${price})\n                    </button>\n                </form>\n            `;showModal(formContent)}function submitOrder(event){event.preventDefault();const form=document.getElementById("order-form"),formData=new FormData(form),data={};formData.forEach(((value,key)=>{data[key]=value}));const customerName=data["Full Name"].split(" ")[0]||"Customer";document.getElementById("modal-body").innerHTML=`<h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-primary-btn")};">...Order Place Ho Raha Hai...</h3><p>Kripya thoda intezaar karein\u0964</p>`;const params=new URLSearchParams;for(const key in data)params.append(key,data[key]);fetch(CONFIG.ORDER_SUBMIT_API,{method:"POST",body:params}).then((response=>response.json())).then((result=>{if("success"===result.result){const whatsappMessage=`\u2705 Order Confirmed!\n\nProduct: ${data["Product Name"]} (\u20b9${data.Price}, ${data["Payment Mode"]})\nName: ${data["Full Name"]}\nMobile: ${data.Mobile}\nAddress: ${data["Full Address"]}\n\nHum aapko jald hi tracking details bhejenge\u0964`;document.getElementById("modal-body").innerHTML=`\n                        <h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-price-premium")};">\ud83c\udf89 Order Successfully Placed!</h3>\n                        <p style="margin-bottom: 20px;">Aapka order mil gaya hai! Kripya neeche diye gaye button se confirmation karein\u0964</p>\n                        <button class="primary-btn btn-base" style="background-color: #25D366; margin-bottom: 10px;"\n                                onclick="window.open('https://wa.me/${CONFIG.ADMIN_WHATSAPP}?text=${encodeURIComponent(whatsappMessage)}', '_blank'); showPostPurchaseShareModal('${customerName}');">\n                            WhatsApp Par Confirmation Karein\n                        </button>\n                        <p style="font-size:0.8em; color:#555;">(Clicking above will also open the Share Wish screen)</p>\n                        `;}else throw new Error(result.error||"Server error")})).catch((error=>{document.getElementById("modal-body").innerHTML=`<h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-primary-btn")};">\u274c Order Place Nahi Ho Paya</h3><p style="margin-bottom: 20px;">Network problem ya server error. Kripya dobara try karein\u0964</p>`}))}function showPostPurchaseShareModal(senderName){const content=`\n                <h3 style="color: ${getComputedStyle(document.documentElement).getPropertyValue("--color-price-premium")}; text-align: center; margin-bottom: 10px;">\ud83c\udf89 Thank You for Your Purchase!</h3>\n                <p style="margin-bottom: 15px; text-align: center; font-weight: 600;">Ab apni khushi apne dosto ke saath bhi share karein! (Aapka message ab purchase status dikhayega!)</p>\n                \n                <div style="display: flex; flex-direction: column; gap: 10px;">\n                    <input type="text" id="modal-share-sender-input" value="${senderName}" placeholder="Your Name" readonly style="background-color: #f0f0f0; font-weight: bold; text-align: center;">\n                    <input type="text" id="modal-share-receiver-input" placeholder="Friend Name (Jise aap wish bhejna chahte hain)" style="border: 2px solid #FF8C00; text-align: center;">\n                    <button class="primary-btn btn-base" \n                            style="margin-top: 10px; background: linear-gradient(135deg, #25D366, #128C7E); box-shadow: 0 4px 10px rgba(37, 211, 102, 0.5);"\n                            onclick="handleShareFromModal();">\n                        \u2709\ufe0f Share Wish Now!\n                    </button>\n                </div>\n            `;showModal(content)}function handleShareFromModal(){const senderName=document.getElementById("modal-share-sender-input").value.trim(),receiverNameInput=document.getElementById("modal-share-receiver-input").value.trim();if(!receiverNameInput)return void alert("Kripya dost ka naam daalein jise aap wish bhejna chahte hain!");let finalShareUrl=CONFIG.BASE_STORE_URL+`?sender=${encodeURIComponent(receiverNameInput)}&status=bought`;const shareText=`*${senderName} \ud83e\udd70*\n\n\ud83d\udc9d\ud83c\udf39\u0906\u092a\u0915\u094b \u0914\u0930 \u0906\u092a\u0915\u0947 \u092a\u0930\u093f\u0935\u093e\u0930 \u0915\u094b \u0936\u0941\u092d \u0926\u093f\u092a\u093e\u0935\u0932\u0940 \ud83d\ude0a\u2603\ufe0f \u092e\u093e\u0924\u093e \u0932\u0915\u094d\u0937\u094d\u092e\u0940 \u0914\u0930 \u0917\u0923\u0947\u0936 \u091c\u0940 \u0915\u0943\u092a\u093e \u0906\u092a \u092a\u0930 \u0938\u0926\u093e \u092c\u0928\u0940 \u0930\u0939\u0947 \ud83c\udf39\ud83d\ude4f\n\n${finalShareUrl}`;window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`,"_blank"),hideModal()}function handleShare(){const senderName=document.getElementById("share-sender-input").value.trim(),receiverNameInput=document.getElementById("share-receiver-input").value.trim();senderName&&"Your Name"!==senderName?receiverNameInput&&"Friend Name"!==receiverNameInput?initiateWhatsAppShare(CONFIG.BASE_STORE_URL,senderName,receiverNameInput):alert("Kripya dost ka naam daalein, ya sirf apna naam likhein!"):alert("Kripya apna sahi naam daalein!")}function initiateWhatsAppShare(baseShareUrl,senderName,receiverName){let finalShareUrl=baseShareUrl+`?sender=${encodeURIComponent(receiverName)}`;const shareText=`*${senderName} \u26c4\ufe0f*\n\n\ud83d\udc9d\ud83c\udf39\u0906\u092a\u0915\u094b \u0914\u0930 \u0906\u092a\u0915\u0947 \u092a\u0930\u093f\u0935\u093e\u0930 \u0915\u094b \u0936\u0941\u092d \u0926\u093f\u092a\u093e\u0935\u0932\u0940 \ud83d\ude0a\u2603\ufe0f \u092e\u093e\u0924\u093e \u0932\u0915\u094d\u0937\u094d\u092e\u0940 \u0914\u0930 \u0917\u0923\u0947\u0936 \u091c\u0940 \u0915\u0943\u092a\u093e \u0906\u092a \u092a\u0930 \u0938\u0926\u093e \u092c\u0928\u0940 \u0930\u0939\u0947 \ud83c\udf39\ud83d\ude4f\n\n${finalShareUrl}`;navigator.share?navigator.share({title:document.getElementById("og-title-meta").content,text:shareText}).catch((error=>{window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`,"_blank")})):window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`,"_blank")}function handleBuyScript(){const whatsappMessage=`Hello! Mujhe \u20b9${CONFIG.SCRIPT_PRICE} mein viral wishing store script kharidni hai\u0964`;window.open(`https://wa.me/${CONFIG.ADMIN_WHATSAPP}?text=${encodeURIComponent(whatsappMessage)}`,"_blank")}function init(){const domainValid=checkDomain();fetchProductData(),domainValid&&(document.getElementById("buy-now-btn").addEventListener("click",handleBuyNow),document.getElementById("share-btn").addEventListener("click",handleShare),document.getElementById("buy-script-btn").addEventListener("click",handleBuyScript))}document.addEventListener("DOMContentLoaded",init);
    </script>
</body>
</html>


